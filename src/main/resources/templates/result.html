<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Aggregated Info</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <h1 class="mb-4">Aggregated Info</h1>

    <div class="card mb-3">
        <div class="card-body">
            <h5 class="card-title">GitHub User Info</h5>
            <p class="card-text">Username: <span th:text="${info.username}"></span></p>
            <p class="card-text">Followers: 
                <span th:text="${info.githubFollowers} == -1 ? 'Please input GitHub username' : ${info.githubFollowers}"></span>
            </p>
            <p class="card-text">Public Repos: 
                <span th:text="${info.githubRepos} == -1 ? 'Please input GitHub username' : ${info.githubRepos}"></span>
            </p>
        </div>
    </div>

    <div class="card mb-3">
        <div class="card-body">
            <h5 class="card-title">Weather Info</h5>
            <p class="card-text">City: <span th:text="${info.city}"></span></p>
			<div class="container mt-3">

			    <div th:if="${info.dailyForecasts != null}">
			        <table class="table table-striped">
			            <thead class="table-dark">
			                <tr>
			                    <th scope="col">Date</th>
			                    <th scope="col">Max Temperature (Â°C)</th>
			                </tr>
			            </thead>
			            <tbody>
			                <tr th:each="forecast : ${info.dailyForecasts}">
			                    <td th:text="${forecast.date}"></td>
			                    <td th:text="${forecast.maxTemp}"></td>
			                </tr>
			            </tbody>
			        </table>
			    </div>

			    <div th:if="${info.dailyForecasts == null}">
			        <p class="text-muted">Please input city</p>
			    </div>
			</div>
        </div>
    </div>

    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Exchange Rate</h5>
            <p class="card-text">EUR to USD Rate: <span th:text="${info.eurToUsdRate}"></span></p>
        </div>
    </div>

    <div class="mt-4">
        <a href="/" class="btn btn-secondary">Back</a>
    </div>
</div>
</body>
</html>
